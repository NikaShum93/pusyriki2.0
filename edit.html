<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–†–µ–¥–∞–∫—Ç–æ—Ä "–ü—É–∑—ã—Ä–∏–∫–∏ 2.0"</title>
  <style>
    body { font-family: sans-serif; background: #111; color: #fff; padding: 20px; max-width: 700px; margin: auto; }
    label { display: block; margin-top: 12px; font-weight: bold; }
    input, select { width: 100%; padding: 6px 10px; margin-top: 4px; border-radius: 6px; border: none; font-size: 14px; }
    textarea { width: 100%; height: 120px; padding: 10px; font-family: monospace; margin-top: 6px; }
    button { margin-top: 20px; padding: 10px 16px; font-size: 16px; border: none; border-radius: 8px; background: #00f2fe; color: #000; cursor: pointer; }
    .section { border: 1px solid #333; padding: 16px; border-radius: 12px; margin-top: 20px; background: #1c1c1c; }
  </style>
</head>
<body>
  <h1>–†–µ–¥–∞–∫—Ç–æ—Ä "–ü—É–∑—ã—Ä–∏–∫–∏ 2.0"</h1>

  <div class="section">
    <label>–í—Å—Ç–∞–≤—å—Ç–µ –∑–∞–¥–∞–Ω–∏—è (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É):</label>
    <textarea id="tasks" placeholder="–ü—Ä–∏–º–µ—Ä: What's your name?"></textarea>
  </div>

  <div class="section">
    <label>–ö–∞—Ä—Ç–∏–Ω–∫–∞ –ø—É–∑—ã—Ä—è (URL):</label>
    <input type="text" id="img" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π">
    
    <label>–ó–≤—É–∫ –ø—Ä–∏ –ª–æ–ø–∞–Ω–∏–∏ (URL):</label>
    <input type="text" id="popSound" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ">

    <label>–®—Ä–∏—Ñ—Ç –∑–∞–¥–∞–Ω–∏–π:</label>
    <input type="text" id="taskFont" placeholder="sans-serif">
    
    <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–∞–Ω–∏—è:</label>
    <input type="color" id="taskColor" value="#ffffff">

    <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∑–∞–¥–∞–Ω–∏—è:</label>
    <input type="color" id="taskBg" value="#00f2fe">

    <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∑–∞–¥–∞–Ω–∏–π (–≤ px):</label>
    <input type="number" id="taskSize" placeholder="22" min="10" max="100">
  </div>

  <div class="section">
    <label>–§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç:</label>
    <input type="text" id="final" placeholder="üéâ Well done!">

    <label>–§–∏–¥–±–µ–∫: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL):</label>
    <input type="text" id="finalImg" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è —Å—É–Ω–¥—É–∫–∞">

    <label><input type="checkbox" id="nochest"> –ë–µ–∑ —Å—É–Ω–¥—É–∫–∞ (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç)</label>

    <label>–®—Ä–∏—Ñ—Ç —Ñ–∏–¥–±–µ–∫–∞:</label>
    <input type="text" id="feedbackFont" placeholder="Comic Sans MS, sans-serif">

    <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ —Ñ–∏–¥–±–µ–∫–∞:</label>
    <input type="color" id="feedbackColor" value="#ffffff">

    <label>–§–æ–Ω —Ñ–∏–¥–±–µ–∫–∞:</label>
    <input type="color" id="feedbackBg" value="#f39c12">

    <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ —Ñ–∏–¥–±–µ–∫–∞ (–≤ px):</label>
    <input type="number" id="feedbackSize" placeholder="32" min="10" max="100">

    <label>–≠—Ñ—Ñ–µ–∫—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–∏–¥–±–µ–∫–∞:</label>
    <select id="feedbackStyle">
      <option value="default">–û–±—ã—á–Ω—ã–π</option>
      <option value="neon">–ù–µ–æ–Ω</option>
      <option value="gradient">–ì—Ä–∞–¥–∏–µ–Ω—Ç</option>
    </select>
  </div>

  <button onclick="generateCode()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>

  <div class="section">
    <label>–í–∞—à iframe-–∫–æ–¥:</label>
    <textarea id="result" readonly></textarea>
  </div>

  <script>
    function generateCode() {
      const get = id => encodeURIComponent(document.getElementById(id).value.trim());
      const add = (key, id) => {
        const val = document.getElementById(id).value.trim();
        if (val) params.push(`${key}=${encodeURIComponent(val)}`);
      };
      const params = [];

      const tasks = document.getElementById("tasks").value.trim().split("\n");
      tasks.forEach((t, i) => {
        if (t.trim()) params.push(`task${i + 1}=${encodeURIComponent(t.trim())}`);
      });

      add("img", "img");
      add("popSound", "popSound");
      add("final", "final");
      add("finalImg", "finalImg");
      if (document.getElementById("nochest").checked) params.push("nochest=true");

      add("taskFont", "taskFont");
      add("taskColor", "taskColor");
      add("taskBg", "taskBg");
      add("taskSize", "taskSize");

      add("feedbackFont", "feedbackFont");
      add("feedbackColor", "feedbackColor");
      add("feedbackBg", "feedbackBg");
      add("feedbackSize", "feedbackSize");
      add("feedbackStyle", "feedbackStyle");

      const url = `https://nikashum93.github.io/pusyriki2.0/index.html?${params.join("&")}`;
      const iframe = `<iframe src="${url}" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>`;
      document.getElementById("result").value = iframe;
      navigator.clipboard.writeText(iframe);
    }
  </script>
</body>
</html>
