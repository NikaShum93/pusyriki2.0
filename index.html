<!-- ✅ Полный index.html с поддержкой новых параметров: рамка, неон, стекло, скругление -->
<html>
<head>
  <meta charset="UTF-8">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: transparent;
    }
    #taskBox, #feedbackBox {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 80%;
      text-align: center;
      padding: 20px;
      display: none;
      z-index: 10;
    }
    .glass {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
  </style>
</head>
<body>
  <div id="taskBox"></div>
  <div id="feedbackBox"></div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);

    const tasks = (urlParams.get("tasks") || "").split("\n");
    const feedbackText = urlParams.get("feedback") || "Good job!";
    const feedbackImage = urlParams.get("feedbackImage") || "";
    const noFeedbackText = urlParams.get("noFeedbackText") === "true";

    const taskBox = document.getElementById("taskBox");
    const feedbackBox = document.getElementById("feedbackBox");

    const taskFont = urlParams.get("taskFont") || "sans-serif";
    const taskFontSize = urlParams.get("taskFontSize") || 36;
    const taskTextColor = urlParams.get("taskTextColor") || "#fff";
    const glassTask = urlParams.get("glassTask") === "true";
    const borderTask = urlParams.get("borderTask") === "true";
    const borderColorTask = urlParams.get("borderColorTask") || "#00ffff";
    const borderNeonTask = urlParams.get("borderNeonTask") === "true";
    const neonColorTask = urlParams.get("neonColorTask") || "#00ffff";

    const feedbackFont = urlParams.get("feedbackFont") || "sans-serif";
    const feedbackFontSize = urlParams.get("feedbackFontSize") || 36;
    const feedbackTextColor = urlParams.get("feedbackTextColor") || "#fff";
    const glassFeedback = urlParams.get("glassFeedback") === "true";
    const borderFeedback = urlParams.get("borderFeedback") === "true";
    const borderColorFeedback = urlParams.get("borderColorFeedback") || "#ff00ff";
    const borderNeonFeedback = urlParams.get("borderNeonFeedback") === "true";
    const neonColorFeedback = urlParams.get("neonColorFeedback") || "#ff00ff";

    const borderRadius = urlParams.get("borderRadius") || 16;

    function applyStyles(box, font, fontSize, textColor, glass, border, borderColor, neon, neonColor) {
      box.style.fontFamily = font;
      box.style.fontSize = fontSize + "px";
      box.style.color = textColor;
      box.style.borderRadius = borderRadius + "px";
      if (glass) box.classList.add("glass");
      if (border) box.style.border = `2px solid ${borderColor}`;
      if (neon) {
        box.style.boxShadow = `0 0 12px ${neonColor}, 0 0 20px ${neonColor}`;
      }
    }

    // Показ задания
    let currentTask = 0;
    function showTask() {
      if (currentTask >= tasks.length) {
        showFeedback();
        return;
      }
      taskBox.innerHTML = tasks[currentTask];
      taskBox.style.display = "block";
      feedbackBox.style.display = "none";
      currentTask++;
    }

    // Показ фидбека
    function showFeedback() {
      taskBox.style.display = "none";
      feedbackBox.innerHTML = "";
      if (!noFeedbackText) {
        const text = document.createElement("div");
        text.textContent = feedbackText;
        feedbackBox.appendChild(text);
      }
      if (feedbackImage) {
        const img = document.createElement("img");
        img.src = feedbackImage;
        img.style.maxWidth = "100%";
        feedbackBox.appendChild(img);
      }
      feedbackBox.style.display = "block";
    }

    applyStyles(taskBox, taskFont, taskFontSize, taskTextColor, glassTask, borderTask, borderColorTask, borderNeonTask, neonColorTask);
    applyStyles(feedbackBox, feedbackFont, feedbackFontSize, feedbackTextColor, glassFeedback, borderFeedback, borderColorFeedback, borderNeonFeedback, neonColorFeedback);

    taskBox.onclick = () => showTask();
    showTask();
  </script>
</body>
</html>
